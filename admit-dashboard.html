<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Dashboard ‚Äî EduBot GTU</title>

  <style>
    :root{
      --gtu-blue:#003366;
      --gtu-blue-2:#0059b3;
      --bg:#f3f7ff;
      --card:#ffffff;
      --muted:#6b7280;
      --success:#16a34a;
      --danger:#dc2626;
      --glass: rgba(255,255,255,0.65);
      --shadow: 0 12px 40px rgba(2,6,23,0.08);
      --accent: #0b5ed7;
    }

    /* Dark theme variables */
    :root.dark{ --bg:#071025; --card:#061226; --muted:#94a3b8; --glass: rgba(255,255,255,0.03); }

    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, Poppins, system-ui, Arial, sans-serif;background:var(--bg);color:#0b2545;}

    /* Layout */
    .app{display:grid;grid-template-columns:260px 1fr;gap:24px;min-height:100vh;padding:22px}
    @media(max-width:900px){.app{grid-template-columns:1fr;padding:12px}}

    /* Sidebar */
    .sidebar{background:linear-gradient(180deg,var(--gtu-blue),var(--gtu-blue-2));color:white;padding:20px;border-radius:12px;box-shadow:var(--shadow);height:calc(100vh - 44px);position:sticky;top:22px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700;font-size:18px}
    .brand img{width:44px;height:44px;object-fit:cover;border-radius:6px}
    .nav{margin-top:20px;display:flex;flex-direction:column;gap:8px}
    .nav .nav-item{background:transparent;border:0;color:rgba(255,255,255,0.95);padding:10px;border-radius:8px;text-align:left;cursor:pointer;font-weight:600}
    .nav .nav-item:hover{background:rgba(255,255,255,0.06);transform:translateX(4px)}
    .nav .nav-item.active{background:rgba(0,0,0,0.12)}

    /* Header inside main */
    .header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .header .left{display:flex;gap:12px;align-items:center}
    .search{padding:10px 12px;border-radius:10px;border:1px solid #e6eefc;width:320px}
    .actions{display:flex;gap:8px;align-items:center}
    .btn{background:linear-gradient(90deg,var(--gtu-blue),var(--gtu-blue-2));color:white;padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
    .btn.secondary{background:transparent;color:var(--gtu-blue);border:1px solid rgba(11,37,69,0.08)}

    /* Cards */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:16px}
    @media(max-width:1100px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:700px){.grid{grid-template-columns:1fr}}
    .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:var(--shadow);transition:transform .18s,box-shadow .18s}
    .card:hover{transform:translateY(-6px);box-shadow:0 22px 40px rgba(2,6,23,0.12)}

    .kpi{font-size:28px;font-weight:700;color:var(--gtu-blue)}
    .kpi-sub{color:var(--muted);font-size:13px}

    /* Form */
    .form{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px}
    @media(max-width:900px){.form{grid-template-columns:1fr}}
    label{font-weight:600;margin-bottom:6px;font-size:14px}
    input, select, textarea{padding:10px;border-radius:8px;border:1px solid #e6eefc;font-size:14px}
    textarea{resize:vertical}

    /* Table */
    .table-wrap{margin-top:18px;background:var(--card);border-radius:12px;padding:12px;box-shadow:var(--shadow);overflow:auto}
    table{width:100%;border-collapse:collapse;min-width:900px}
    th,td{padding:12px 10px;border-bottom:1px solid rgba(11,37,69,0.06);text-align:left}
    th{background:transparent;color:var(--muted);font-weight:700}
    tr:hover td{background:linear-gradient(90deg,rgba(11,94,215,0.03),transparent)}
    .actions button{margin-right:8px;padding:8px 10px;border-radius:8px;border:0;cursor:pointer}
    .actions .edit{background:#fde68a}
    .actions .del{background:#fecaca}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:none;align-items:center;justify-content:center;z-index:2000}
    .modal{width:100%;max-width:720px;background:var(--card);padding:18px;border-radius:12px}

    /* footer */
    footer{margin-top:20px;padding:18px;text-align:center;color:var(--muted);font-size:13px}

    /* small utilities */
    .muted{color:var(--muted);font-size:13px}
    .tag{display:inline-block;background:#f1f8ff;color:var(--gtu-blue);padding:6px 8px;border-radius:999px;font-weight:700}

    /* animations */
    .fade-in{animation:fadeIn .6s ease both}
    @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

    /* PDF UI styles */
    .file-info{font-size:13px;color:var(--gtu-blue);margin-top:6px}
    .progress{height:8px;background:#e6eefc;border-radius:6px;overflow:hidden;margin-top:8px}
    .progress > div{height:100%;width:0;background:linear-gradient(90deg,var(--gtu-blue),var(--gtu-blue-2));transition:width .3s}
  </style>
</head>
<body>

<div class="app">
  <!-- SIDEBAR -->
  <aside class="sidebar fade-in">
    <div class="brand"><img src="assets/logo.png" alt="logo"> EduBot GTU</div>
    <nav class="nav" aria-label="Main navigation">
      <button class="nav-item active" data-section="dashboard">üè† Dashboard</button>
      <button class="nav-item" data-section="add">‚ûï Add Material</button>
      <button class="nav-item" data-section="manage">üóÇ Manage Materials</button>
      <button class="nav-item" data-section="units">üìö Units</button>
      <button class="nav-item" data-section="settings">‚öôÔ∏è Settings</button>
    </nav>

    <div class="spacer"></div>

    <div class="muted">Logged in as <strong>admin</strong></div>
    <div class="muted" style="margin-top:8px">Tip: export <code>materials.json</code> to update your GitHub repo.</div>

  </aside>

  <!-- MAIN -->
  <main>
    <div class="header">
      <div class="left">
        <h2 style="margin:0">Admin Dashboard</h2>
        <div class="muted" style="margin-left:12px">GTU Portal ‚Ä¢ Manage study resources</div>
      </div>

      <div class="actions">
        <input id="search" class="search" placeholder="Search subject, unit, type...">
        <button id="importBtn" class="btn secondary">üì• Import JSON</button>
        <button id="exportBtn" class="btn">üì§ Export JSON</button>
        <button id="darkToggle" class="btn secondary">üåô Dark</button>
      </div>
    </div>

    <!-- KPIs -->
    <div class="grid">
      <div class="card">
        <div class="kpi" id="kpiCount">0</div>
        <div class="kpi-sub">Total Materials</div>
      </div>

      <div class="card">
        <div class="kpi" id="kpiPDF">0</div>
        <div class="kpi-sub">PDFs / Books</div>
      </div>

      <div class="card">
        <div class="kpi" id="kpiPlay">0</div>
        <div class="kpi-sub">Playlists</div>
      </div>
    </div>

    <!-- Add Form -->
    <section id="section-add" class="fade-in">
      <div class="card" style="margin-top:14px">
        <strong>‚ûï Add / Upload Material</strong>
        <p class="muted">Add new study resources. Use import to bulk load materials.json.</p>

        <div class="form" style="margin-top:12px">
          <div>
            <label>Subject</label>
            <input id="subject">
          </div>

          <div>
            <label>Type</label>
            <select id="type">
              <option>Notes</option>
              <option>PDF</option>
              <option>Book</option>
              <option>PYQ</option>
              <option>Playlist</option>
              <option>Other</option>
            </select>
          </div>

          <div>
            <label>Unit / Chapter</label>
            <input id="unit">
          </div>

          <div>
            <label>Link (URL / Drive / YouTube)</label>
            <input id="link">
          </div>

          <!-- PDF Upload Section (placed inside form) -->
          <div style="grid-column:1 / -1; margin-top:6px">
            <label><strong>Upload PDF File (optional)</strong></label>
            <input type="file" id="pdfFile" accept="application/pdf" style="margin-top:6px">
            <div class="file-info" id="pdfInfoAdd" style="display:none"></div>
            <div class="progress" id="pdfProgressAdd" style="display:none"><div></div></div>
          </div>

          <div style="grid-column:1 / -1">
            <label>Description & Tags</label>
            <textarea id="description" rows="3"></textarea>
          </div>

        </div>

        <div style="display:flex;gap:10px;margin-top:12px">
          <button id="uploadBtn" class="btn">‚úÖ Upload Material</button>
          <button id="clearBtn" class="btn secondary">üßπ Clear</button>
          <div style="margin-left:auto" class="muted">Last saved: <span id="lastSaved">Never</span></div>
        </div>
      </div>
    </section>

    <!-- Manage Table -->
    <section id="section-manage" class="fade-in">
      <div class="table-wrap">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
          <strong>üìÇ Materials Library</strong>
          <div class="muted">Total: <span id="totalCount">0</span></div>
        </div>

        <table id="materialsTable">
          <thead>
            <tr><th>Subject</th><th>Type</th><th>Unit</th><th>Description</th><th>Link</th><th>Actions</th></tr>
          </thead>
          <tbody></tbody>
        </table>

        <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
          <button id="deleteAll" class="btn secondary">üóëÔ∏è Delete All</button>
          <div class="muted">Tip: Export JSON and commit to GitHub to publish materials.</div>
        </div>
      </div>
    </section>

    <!-- Units / Cards -->
    <section id="section-units" class="fade-in">
      <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:12px">
        <!-- Animated unit cards will be injected -->
        <div id="unitsGrid" style="display:flex;gap:12px;flex-wrap:wrap"></div>
      </div>
    </section>

    <!-- Settings -->
    <section id="section-settings" class="fade-in" style="display:none;margin-top:12px">
      <div class="card">
        <strong>‚öôÔ∏è Settings</strong>
        <p class="muted">Dark mode, Import/Export and local persistence are available.</p>
      </div>
    </section>

    <footer>
      <div style="display:flex;justify-content:center;gap:14px;flex-wrap:wrap">
        <a href="index.html" style="color:var(--gtu-blue);text-decoration:none;font-weight:700">Home</a>
        <a href="https://gtustudy.in/" class="muted">Study Material</a>
        <a href="https://www.gtu.ac.in/" class="muted">GTU Official</a>
        <a href="https://www.darshan.ac.in/gtu-study-material" class="muted">Darshan Material</a>
        <a href="contact.html" class="muted">Contact</a>
      </div>
      <div style="margin-top:8px" class="muted">¬© 2025 EduBot GTU ‚Ä¢ Built for GTU Students</div>
    </footer>

  </main>
</div>

<!-- Edit Modal (includes PDF upload for edits) -->
<div class="modal-backdrop" id="modal">
  <div class="modal">
    <h3>Edit Material</h3>
    <div style="margin-top:8px">
      <label>Subject</label>
      <input id="editSubject">
      <label>Type</label>
      <input id="editType">
      <label>Unit</label>
      <input id="editUnit">
      <label>Link</label>
      <input id="editLink">

      <!-- PDF upload inside modal -->
      <label style="margin-top:8px">Replace PDF (optional)</label>
      <input type="file" id="editPdfFile" accept="application/pdf">
      <div class="file-info" id="pdfInfoEdit" style="display:none"></div>
      <div class="progress" id="pdfProgressEdit" style="display:none"><div></div></div>

      <label>Description</label>
      <textarea id="editDesc" rows="3"></textarea>
    </div>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
      <button id="cancelEdit" class="btn secondary">Cancel</button>
      <button id="saveEdit" class="btn">Save</button>
    </div>
  </div>
</div>

<!-- Toast -->
<div id="toast" style="position:fixed;right:18px;bottom:18px;background:var(--success);color:white;padding:10px 14px;border-radius:10px;display:none;box-shadow:var(--shadow)"></div>

<script>
// Robust single-file admin dashboard script with PDF upload in Add + Edit
(function(){
  const STORAGE_KEY = 'gtu_materials_v2';
  const THEME_KEY = 'gtu_theme_v2';

  // elements
  const navButtons = document.querySelectorAll('.nav .nav-item');
  const sections = {dashboard: null, add: document.getElementById('section-add'), manage: document.getElementById('section-manage'), units: document.getElementById('section-units'), settings: document.getElementById('section-settings')};
  const uploadBtn = document.getElementById('uploadBtn');
  const clearBtn = document.getElementById('clearBtn');
  const deleteAllBtn = document.getElementById('deleteAll');
  const tableBody = document.querySelector('#materialsTable tbody');
  const totalCount = document.getElementById('totalCount');
  const kpiCount = document.getElementById('kpiCount');
  const kpiPDF = document.getElementById('kpiPDF');
  const kpiPlay = document.getElementById('kpiPlay');
  const lastSaved = document.getElementById('lastSaved');
  const toast = document.getElementById('toast');
  const importBtn = document.getElementById('importBtn');
  const exportBtn = document.getElementById('exportBtn');
  const darkToggle = document.getElementById('darkToggle');
  const searchInput = document.getElementById('search');
  const unitsGrid = document.getElementById('unitsGrid');
  const modal = document.getElementById('modal');

  // pdf elements
  const pdfFileAdd = document.getElementById('pdfFile');
  const pdfInfoAdd = document.getElementById('pdfInfoAdd');
  const pdfProgressAdd = document.getElementById('pdfProgressAdd');
  const editPdfFile = document.getElementById('editPdfFile');
  const pdfInfoEdit = document.getElementById('pdfInfoEdit');
  const pdfProgressEdit = document.getElementById('pdfProgressEdit');

  // data
  let materials = [];
  let editIndex = null;

  // helpers
  function showToast(msg){ toast.textContent = msg; toast.style.display = 'block'; setTimeout(()=> toast.style.display='none',2200); }
  function saveToStore(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(materials)); lastSaved.textContent = new Date().toLocaleString(); showToast('Saved locally'); updateKPIs(); }
  function loadFromStore(){ try{ const raw = localStorage.getItem(STORAGE_KEY); materials = raw ? JSON.parse(raw) : []; if(!Array.isArray(materials)) materials = []; }catch(e){ materials = []; } }

  function esc(s){ return (s||'').toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

  function updateKPIs(){ kpiCount.textContent = materials.length; kpiPDF.textContent = materials.filter(m=> m.type && (m.type.toLowerCase().includes('pdf') || m.type.toLowerCase().includes('book'))).length; kpiPlay.textContent = materials.filter(m=> m.type && m.type.toLowerCase().includes('playlist')).length; }

  // render table
  function renderTable(filter){ tableBody.innerHTML=''; const list = materials.filter(m => {
    if(!filter) return true; const s = (m.subject+' '+m.unit+' '+m.type+' '+m.description).toLowerCase(); return s.includes(filter.toLowerCase());
  });
  list.forEach((m, idx) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${esc(m.subject)}</td>
      <td>${esc(m.type)}</td>
      <td>${esc(m.unit)}</td>
      <td>${esc(m.description)}</td>
      <td>${m.link ? `<a href="${m.link}" target="_blank">Open</a>` : ''}</td>
      <td class="actions"><button data-idx="${idx}" class="edit">‚úèÔ∏è Edit</button><button data-idx="${idx}" class="del">üóëÔ∏è</button></td>
    `;
    tableBody.appendChild(tr);
  }); totalCount.textContent = materials.length; updateKPIs(); }

  // units grid
  function renderUnits(){ unitsGrid.innerHTML=''; const groups = {}; materials.forEach(m=>{ const key = (m.unit||'General').trim(); if(!groups[key]) groups[key]=[]; groups[key].push(m); });
    Object.keys(groups).forEach(u=>{
      const card = document.createElement('div'); card.className='card'; card.style.minWidth='220px'; card.style.flex='1'; card.style.maxWidth='320px';
      card.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center"><strong>${esc(u)}</strong><span class="tag">${groups[u].length}</span></div><div style="margin-top:8px" class="muted">Click to expand</div>`;
      card.addEventListener('click', ()=>{ showUnitDetails(u, groups[u]); });
      unitsGrid.appendChild(card);
    }); }

  function showUnitDetails(unitName, items){ const w = window.open('','_blank'); const html = `<!doctype html><html><head><title>${unitName}</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"></head><body style="font-family:Arial,sans-serif;padding:18px"><h2>${unitName}</h2><ul>`+ items.map(i=>`<li><a href="${i.link}" target="_blank">${esc(i.subject)} ‚Äî ${esc(i.type)}</a></li>`).join('') + '</ul></body></html>'; w.document.write(html); }

  // handle PDF -> Base64 for add form
  if(pdfFileAdd){
    pdfFileAdd.addEventListener('change', function(){
      const file = this.files[0];
      if(!file) return;
      if(file.type !== 'application/pdf'){ alert('Only PDF files allowed.'); this.value=''; return; }
      pdfInfoAdd.style.display='block'; pdfInfoAdd.textContent = `Selected: ${file.name} (${(file.size/1024/1024).toFixed(2)} MB)`;
      pdfProgressAdd.style.display='block'; pdfProgressAdd.firstElementChild.style.width='0%';

      const reader = new FileReader();
      reader.onprogress = (e)=>{ if(e.lengthComputable){ const p = Math.round(e.loaded / e.total * 100); pdfProgressAdd.firstElementChild.style.width = p + '%'; } };
      reader.onload = function(e){ document.getElementById('link').value = e.target.result; pdfProgressAdd.firstElementChild.style.width = '100%'; showToast('PDF converted to Base64 and set as link'); };
      reader.readAsDataURL(file);
    });
  }

  // handle PDF in edit modal
  if(editPdfFile){
    editPdfFile.addEventListener('change', function(){
      const file = this.files[0];
      if(!file) return;
      if(file.type !== 'application/pdf'){ alert('Only PDF files allowed.'); this.value=''; return; }
      pdfInfoEdit.style.display='block'; pdfInfoEdit.textContent = `Selected: ${file.name} (${(file.size/1024/1024).toFixed(2)} MB)`;
      pdfProgressEdit.style.display='block'; pdfProgressEdit.firstElementChild.style.width='0%';

      const reader = new FileReader();
      reader.onprogress = (e)=>{ if(e.lengthComputable){ const p = Math.round(e.loaded / e.total * 100); pdfProgressEdit.firstElementChild.style.width = p + '%'; } };
      reader.onload = function(e){ document.getElementById('editLink').value = e.target.result; pdfProgressEdit.firstElementChild.style.width = '100%'; showToast('PDF converted to Base64 and set as link (edit)'); };
      reader.readAsDataURL(file);
    });
  }

  // add material
  if(uploadBtn) uploadBtn.addEventListener('click', ()=>{
    const sub = document.getElementById('subject').value.trim();
    const type = document.getElementById('type').value.trim();
    const unit = document.getElementById('unit').value.trim();
    const link = document.getElementById('link').value.trim();
    const desc = document.getElementById('description').value.trim();
    if(!sub || !link){ alert('Subject and Link are required'); return; }
    materials.unshift({subject:sub, type:type, unit:unit, link:link, description:desc, created:new Date().toISOString()});
    saveToStore(); renderTable(searchInput.value||''); renderUnits();
    ['subject','unit','link','description'].forEach(id=>document.getElementById(id).value='');
    // clear pdf inputs
    if(pdfFileAdd) pdfFileAdd.value=''; pdfInfoAdd.style.display='none'; pdfProgressAdd.style.display='none';
  });

  // clear
  if(clearBtn) clearBtn.addEventListener('click', ()=>{['subject','unit','link','description'].forEach(id=>document.getElementById(id).value=''); if(pdfFileAdd) pdfFileAdd.value=''; pdfInfoAdd.style.display='none'; pdfProgressAdd.style.display='none'; });

  // table events
  tableBody.addEventListener('click', (e)=>{
    const idx = e.target.dataset.idx;
    if(e.target.classList.contains('del')){ if(confirm('Delete item?')){ materials.splice(idx,1); saveToStore(); renderTable(searchInput.value||''); renderUnits(); } }
    if(e.target.classList.contains('edit')){ editIndex = Number(idx); const m = materials[editIndex]; document.getElementById('editSubject').value=m.subject; document.getElementById('editType').value=m.type; document.getElementById('editUnit').value=m.unit; document.getElementById('editLink').value=m.link||''; document.getElementById('editDesc').value=m.description||''; pdfInfoEdit.style.display='none'; pdfProgressEdit.style.display='none'; modal.style.display='flex'; }
  });

  // modal actions
  document.getElementById('cancelEdit').addEventListener('click', ()=>{ modal.style.display='none'; editIndex=null; });
  document.getElementById('saveEdit').addEventListener('click', ()=>{
    if(editIndex===null) return; const m = materials[editIndex]; m.subject=document.getElementById('editSubject').value.trim(); m.type=document.getElementById('editType').value.trim(); m.unit=document.getElementById('editUnit').value.trim(); m.link=document.getElementById('editLink').value.trim(); m.description=document.getElementById('editDesc').value.trim(); saveToStore(); renderTable(searchInput.value||''); renderUnits(); modal.style.display='none'; editIndex=null;
  });

  // delete all
  if(deleteAllBtn) deleteAllBtn.addEventListener('click', ()=>{ if(confirm('Delete ALL locally?')){ materials=[]; saveToStore(); renderTable(); renderUnits(); } });

  // import/export JSON
  if(exportBtn) exportBtn.addEventListener('click', ()=>{ const data = JSON.stringify(materials, null, 2); const blob = new Blob([data], {type:'application/json'}); const url = URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='materials.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); showToast('materials.json downloaded'); });

  if(importBtn) importBtn.addEventListener('click', ()=>{ const input=document.createElement('input'); input.type='file'; input.accept='application/json'; input.onchange = (e)=>{ const f = e.target.files[0]; if(!f) return; const r = new FileReader(); r.onload = ()=>{ try{ const j = JSON.parse(r.result); if(!Array.isArray(j)) throw new Error('Invalid'); materials = j.concat(materials); saveToStore(); renderTable(); renderUnits(); showToast('Imported JSON'); }catch(err){ alert('Invalid JSON file'); } }; r.readAsText(f); }; input.click(); });

  // dark mode
  if(darkToggle) {
    darkToggle.addEventListener('click', ()=>{ document.documentElement.classList.toggle('dark'); localStorage.setItem(THEME_KEY, document.documentElement.classList.contains('dark')?'dark':'light'); });
    // apply saved theme
    const savedTheme = localStorage.getItem(THEME_KEY) || 'light'; if(savedTheme==='dark') document.documentElement.classList.add('dark');
  }

  // search
  if(searchInput) searchInput.addEventListener('input', ()=> renderTable(searchInput.value));

  // nav switching
  navButtons.forEach(btn=> btn.addEventListener('click', ()=>{ navButtons.forEach(b=>b.classList.remove('active')); btn.classList.add('active'); const sec = btn.dataset.section; for(const s in sections) if(sections[s]) sections[s].style.display = (s===sec || sec==='dashboard' && (s==='add' || s==='manage')) ? 'block' : 'none'; }));

  // keyboard shortcut Cmd/Ctrl+S => export
  window.addEventListener('keydown',(e)=>{ if((e.ctrlKey||e.metaKey)&& e.key.toLowerCase()==='s'){ e.preventDefault(); exportBtn.click(); } });

  // initial load
  loadFromStore(); renderTable(); renderUnits(); updateKPIs();

})();
// Save material from Admin Dashboard
const form = document.getElementById("materialForm");

if (form) {
  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const material = {
      title: document.getElementById("title").value,
      subject: document.getElementById("subject").value,
      description: document.getElementById("description").value,
      link: document.getElementById("link").value
    };

    let list = JSON.parse(localStorage.getItem("materials")) || [];
    list.push(material);

    localStorage.setItem("materials", JSON.stringify(list));
    alert("Material Added Successfully!");

    form.reset();
  });
}

// Display materials on Study Material page
const materialsList = document.getElementById("materialsList");

if (materialsList) {
  let list = JSON.parse(localStorage.getItem("materials")) || [];

  if (list.length === 0) {
    materialsList.innerHTML = "<p>No materials added yet.</p>";
  } else {
    list.forEach((item) => {
      materialsList.innerHTML += `
        <div style="border:1px solid #ccc; padding:10px; margin:10px;">
          <h3>${item.title}</h3>
          <p><strong>Subject:</strong> ${item.subject}</p>
          <p>${item.description}</p>
          <a href="${item.link}" target="_blank">Open Material</a>
        </div>
      `;
    });
  }
}
</script>
</body>
</html>
